extends masebook.pug

block title
    - const titleText = space ? `Edit Space | ${space.name}` : 'New Space'
    title= titleText


mixin options(...items)
    each i in items 
        option(value=i)= i

block content
    h1= titleText
    form#space-editor(action="/spaces", method='post')
        .form-element
            label(for='space_name') Name
            input#space_name(type='text', name='name', minlength='1', maxlength='64', required)
        .form-element
            label(for='space_desc') Description
            input#space_desc(type='text', name='description', minlength='1', maxlength='256')
        .form-element
            input#space_visible(type='checkbox', name='visible', value='true')
            label(for='space_visible') Visible to non-members
        .form-element
            input#space_show_in_dir(type='checkbox', name='show_in_dir', value='true')
            label(for='space_show_in_dir') Show in Server Directory
        
        fieldset
            legend Permissions
            label(for='view_member_list') Who can view member list?
            select#view_member_list(name='view_member_list')
                +options('member', 'moderator', 'administrator', 'owner')
            label(for='view_posts') Who can view posts?
            select#view_posts(name='view_posts')
                +options('member', 'moderator', 'administrator', 'owner')
            label(for='create_posts') Who can create posts?
            select#create_posts(name='create_posts')
                +options('member', 'moderator', 'administrator', 'owner')
            label(for='delete_posts') Who can delete posts?
            select#delete_posts(name='delete_posts')
                +options('moderator', 'administrator', 'owner')
            label(for='view_comments') Who can view comments?
            select#view_comments(name='view_comments')
                +options('member', 'moderator', 'administrator', 'owner')
            label(for='create_comments') Who can create comments?
            select#create_comments(name='create_comments')
                +options('member', 'moderator', 'administrator', 'owner')
            label(for='delete_comments') Who can delete comments?
            select#delete_comments(name='delete_comments')
                +options('moderator', 'administrator', 'owner')
        input(type='submit', value='submit')